üîê PHASE 1.2 ‚Äî PRODUCT FORM ARCHITECTURE LOCKDOWN

(MANDATORY ¬∑ NO PARTIAL FIXES ¬∑ NO UX PATCHES)

‚∏ª

üö´ ABSOLUTE RULE

DO NOT FIX SYMPTOMS.
REBUILD THE PRODUCT FORM CONTRACT.

‚∏ª

================================

SECTION 1 ‚Äî SINGLE SOURCE OF TRUTH FORM

================================

The Product Create/Edit form MUST be rebuilt to use:
	‚Ä¢	ONE form controller (React Hook Form or equivalent)
	‚Ä¢	ONE schema (Zod or equivalent)
	‚Ä¢	NO uncontrolled inputs
	‚Ä¢	NO field outside the schema

‚ùå Mixing controlled + uncontrolled inputs is FORBIDDEN

‚∏ª

================================

SECTION 2 ‚Äî REQUIRED FIELD ENFORCEMENT (HARD)

================================

Any field marked with * MUST:
	‚Ä¢	Block form submission if empty
	‚Ä¢	Highlight red
	‚Ä¢	Scroll into view
	‚Ä¢	Receive focus
	‚Ä¢	Return field-specific error

Required fields (minimum):
	‚Ä¢	name
	‚Ä¢	category
	‚Ä¢	condition (Select)
	‚Ä¢	price
	‚Ä¢	quantity

‚ùå Visual indicators without enforcement are NOT allowed

‚∏ª

================================

SECTION 3 ‚Äî RADIX SELECT SAFETY (NON-NEGOTIABLE)

================================

For every <Select /> component:

Rules:
	‚Ä¢	Must be registered in the form schema
	‚Ä¢	Must have an explicit default value
	‚Ä¢	Must NEVER receive:
	‚Ä¢	""
	‚Ä¢	null
	‚Ä¢	undefined

Mandatory pattern:

value = formValue ?? "__unset__"

And:
	‚Ä¢	"__unset__" is NEVER persisted
	‚Ä¢	Server rejects "__unset__" as invalid

‚∏ª

================================

SECTION 4 ‚Äî SERVER-SIDE INVARIANTS

================================

The server MUST enforce:

Field	Rule
price	Required, > 0
quantity	Required, ‚â• 0
condition	Required
category	Required

‚ùå Client-only validation is NOT acceptable

‚∏ª

================================

SECTION 5 ‚Äî ERROR PRESENTATION RULE

================================

ONLY ONE error presentation style is allowed:
	‚Ä¢	Inline under field
	‚Ä¢	Red border on field
	‚Ä¢	Auto-scroll to FIRST error
	‚Ä¢	Focus FIRST error input

‚ùå No generic error above Publish button
‚ùå No toast errors for validation

‚∏ª

================================

SECTION 6 ‚Äî CRASH PREVENTION GUARANTEE

================================

You MUST guarantee:
	‚Ä¢	No <Select /> crash is possible
	‚Ä¢	No product edit can brick vendor dashboard
	‚Ä¢	No invalid product state can be persisted

This includes:
	‚Ä¢	Editing existing products
	‚Ä¢	Partial updates
	‚Ä¢	Draft products

‚∏ª

================================

SECTION 7 ‚Äî MANDATORY TEST CASES

================================

Use vendor credentials:
ven@kiosk.com.gh / 123asdqwe

Tests (ALL MUST PASS):
	1.	Submit with empty condition ‚Üí blocked, scrolls, highlights
	2.	Submit with empty quantity ‚Üí blocked, scrolls, highlights
	3.	Submit with empty category ‚Üí blocked, scrolls, highlights
	4.	Clear Select field manually ‚Üí NO crash
	5.	Reload product page ‚Üí NO crash
	6.	Logout / login ‚Üí NO crash

‚∏ª

================================

EXIT CONDITION (STRICT)

================================

DO NOT REPORT SUCCESS unless:

‚úÖ No Select crash possible
‚úÖ Required fields enforced client + server
‚úÖ All errors scroll & highlight correctly
‚úÖ No generic publish-button errors
‚úÖ Product form behaves as ONE unified form

‚∏ª