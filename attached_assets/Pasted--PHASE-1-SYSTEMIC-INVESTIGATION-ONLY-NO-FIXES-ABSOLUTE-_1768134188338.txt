
ğŸ” PHASE 1 â€” SYSTEMIC INVESTIGATION ONLY (NO FIXES)

ABSOLUTE RULES (NON-NEGOTIABLE)
	â€¢	âŒ Do NOT modify any code
	â€¢	âŒ Do NOT refactor
	â€¢	âŒ Do NOT â€œquick-fixâ€ anything
	â€¢	âŒ Do NOT change validation rules
	â€¢	âŒ Do NOT touch UI behavior
	â€¢	âŒ Do NOT remove or add fields

ğŸ‘‰ This task is READ-ONLY investigation and reporting only.

If any fix is made, the task is considered FAILED.

â¸»

ğŸ¯ OBJECTIVE

Produce a single consolidated root-cause report explaining why the following issues exist, not how to fix them.

We are identifying architectural breaks, not symptoms.

â¸»

ğŸ§© ISSUES TO INVESTIGATE (ALL REQUIRED)

1ï¸âƒ£ Product Model Contract Drift

Identify:
	â€¢	The canonical product schema
	â€¢	All places where product shape differs across:
	â€¢	Vendor Create
	â€¢	Vendor Edit
	â€¢	Admin Create
	â€¢	Admin Edit
	â€¢	API (POST / PUT)
	â€¢	API (GET /admin, GET /products)
	â€¢	Database table

Report:
	â€¢	Missing fields
	â€¢	Fields present in UI but not persisted
	â€¢	Fields persisted but not rendered
	â€¢	Fields validated but not editable

â¸»

2ï¸âƒ£ Condition Field Chaos

Trace Condition across the system:
	â€¢	Is it:
	â€¢	A top-level field?
	â€¢	A category attribute?
	â€¢	Both?
	â€¢	Where is it:
	â€¢	Rendered
	â€¢	Required
	â€¢	Validated
	â€¢	Normalized
	â€¢	Transformed
	â€¢	Why does:
	â€¢	Admin edit always fail validation?
	â€¢	Electronics load two condition fields?
	â€¢	Condition validation trigger even when field is not rendered?

ğŸ“Œ Produce a timeline of how Condition flows from DB â†’ API â†’ Form â†’ Validation.

â¸»

3ï¸âƒ£ SKU & Barcode Non-Persistence

Investigate:
	â€¢	Where SKU & Barcode exist in UI
	â€¢	Whether they exist in:
	â€¢	Zod schema
	â€¢	transformFormToApiPayload
	â€¢	transformApiToFormValues
	â€¢	Database columns
	â€¢	Whether Admin Create ever sends them
	â€¢	Whether Admin Edit overwrites or drops them

ğŸ“Œ Explicitly answer:

â€œWhy does SKU/Barcode appear editable but never persist?â€

â¸»

4ï¸âƒ£ Admin Delete Permissions Mismatch

Investigate:
	â€¢	Frontend assumptions vs backend enforcement
	â€¢	Role logic for:
	â€¢	Admin deleting users
	â€¢	Admin deleting admins
	â€¢	Super Admin deleting admins it created
	â€¢	Difference between:
	â€¢	Delete
	â€¢	Revoke
	â€¢	Soft-disable

ğŸ“Œ Identify exact rule conflicts, not opinions.

â¸»

5ï¸âƒ£ Validation Over-Restriction

Identify:
	â€¢	Where garbage detection is applied
	â€¢	Why legitimate values like:
	â€¢	â€œMercedes Benzâ€
	â€¢	â€œTheory Businessâ€
	â€¢	Ghanaian addresses without numbers
are rejected

Trace:
	â€¢	Regex rules
	â€¢	Entropy checks
	â€¢	Reuse of product-name rules on business names
	â€¢	Any numeric enforcement on address fields

ğŸ“Œ Report which validation layer is responsible (client / server / schema).

â¸»

6ï¸âƒ£ Admin UI Stability Risks

Explain:
	â€¢	Why Admin pages are more fragile than Vendor pages
	â€¢	Which Admin components:
	â€¢	Render Selects from raw data
	â€¢	Assume non-null values
	â€¢	Why Admin Edit behaves differently from Create
	â€¢	Why errors still surface in console instead of UI

â¸»

ğŸ“„ REQUIRED OUTPUT FORMAT (STRICT)

Produce ONE report with these sections in order:
	1.	Executive Summary (max 10 lines)
	2.	Confirmed Root Causes (bullet points, no speculation)
	3.	Schema & Contract Mismatches Table
	4.	Condition Field Trace (End-to-End)
	5.	SKU & Barcode Persistence Failure Trace
	6.	Admin Permission Rule Conflicts
	7.	Validation Rule Overreach Map
	8.	Risk Assessment if Left Unfixed
	9.	DO NOT FIX YET â€” Recommended Fix Order (High Level Only)

â— No code snippets
â— No fixes
â— No refactors
â— No â€œI went ahead andâ€¦â€

â¸»

ğŸ§  SUCCESS CRITERIA

This investigation is successful only if:
	â€¢	Every issue above has a clear root cause
	â€¢	No fixes were applied
	â€¢	The findings explain why previous fixes caused new bugs

â¸»

ğŸ›‘ FAILURE CONDITIONS
	â€¢	Any code change
	â€¢	Any validation adjustment
	â€¢	Any â€œI fixed X while investigatingâ€
	â€¢	Any missing section in the report

â¸»