üîê PHASE 1.1B ‚Äî VALIDATION UX & REGISTRATION SAFETY CORRECTION

(MANDATORY FIX ‚Äî PHASE 1 NOT COMPLETE WITHOUT THIS)

You are correcting incomplete and improperly surfaced validation work from Phase 1.1.

‚ö†Ô∏è THIS IS A CORRECTIVE PASS. DO NOT ADD FEATURES. DO NOT CHANGE BUSINESS LOGIC.

‚∏ª

========================================

SECTION 0 ‚Äî FAILURE ACKNOWLEDGEMENT

========================================

The following are explicit failures that MUST be corrected:
	‚Ä¢	Registration forms bypass content safety
	‚Ä¢	Duplicate phone numbers are allowed
	‚Ä¢	Error messages are not field-specific
	‚Ä¢	Errors are rendered redundantly (toast spam)
	‚Ä¢	UX does not guide users to the failing input

Do NOT mark this task complete unless all failures are resolved.

‚∏ª

========================================

SECTION 1 ‚Äî REGISTRATION CONTENT SAFETY (CRITICAL)

========================================

Apply ALL content safety & garbage filtering to:

Buyer Registration
	‚Ä¢	First name
	‚Ä¢	Last name
	‚Ä¢	Address fields

Vendor Registration
	‚Ä¢	Store name
	‚Ä¢	Store description
	‚Ä¢	Address fields

Admin Creation (if applicable)
	‚Ä¢	Name fields

MUST BLOCK:
	‚Ä¢	Profanity (FUCK YOU, obfuscated variants)
	‚Ä¢	Garbage strings (hgdgfhsfgcgfdfgsfg)
	‚Ä¢	Keyboard mashing
	‚Ä¢	Placeholder values (test, xxx, asdf)
	‚Ä¢	Contact info (email, phone, URLs)

‚ùå Current behavior allowing this is UNACCEPTABLE

Error Response MUST include:

{
  "code": "UNSAFE_CONTENT",
  "field": "storeName",
  "message": "Store name contains prohibited or unsafe content"
}

‚ö†Ô∏è Field attribution is REQUIRED ‚Äî no generic errors.

‚∏ª

========================================

SECTION 2 ‚Äî EMAIL GARBAGE DETECTION (STRICT)

========================================

In addition to RFC email validation, implement:

Reject emails that:
	‚Ä¢	Exceed reasonable local-part length
	‚Ä¢	Contain excessive random characters
	‚Ä¢	Match entropy / garbage heuristics
	‚Ä¢	Look auto-generated or spam-like

Example to reject:

venjhshjshgsgfjdfxyhvdwvhdxvuj@gmail.com

Error:

{
  "code": "INVALID_EMAIL",
  "field": "email",
  "message": "Please enter a valid, human-readable email address"
}

‚ö†Ô∏è This applies ONLY to registration, not login.

‚∏ª

========================================

SECTION 3 ‚Äî PHONE NUMBER UNIQUENESS (CRITICAL)

========================================

Rules:
	‚Ä¢	Phone numbers MUST be globally unique across:
	‚Ä¢	Buyers
	‚Ä¢	Vendors
	‚Ä¢	Admins

‚ùå Same phone number cannot exist twice under any role.

On duplicate:

{
  "code": "PHONE_ALREADY_IN_USE",
  "field": "phone",
  "message": "This phone number is already associated with another account"
}


‚∏ª

========================================

SECTION 4 ‚Äî FIELD-LEVEL ERROR UX (MANDATORY)

========================================

Required UX behavior:
	1.	Highlight the failing field (red border)
	2.	Display error directly under the field
	3.	Auto-scroll to the first failing field
	4.	Focus the input on submit failure

‚ùå Errors MUST NOT be:
	‚Ä¢	Only shown in toast
	‚Ä¢	Detached from the field
	‚Ä¢	Ambiguous

‚∏ª

========================================

SECTION 5 ‚Äî ERROR RENDERING RULE (NO SPAM)

========================================

üö´ ONLY ONE error presentation method is allowed per form submit

Preferred hierarchy:
	1.	Field-level inline error (primary)
	2.	ONE toast only for non-field errors (optional)

‚ùå REMOVE:
	‚Ä¢	Multiple toasts
	‚Ä¢	Duplicate messages in multiple UI locations
	‚Ä¢	Top-right + bottom-left + inline duplicates

‚∏ª

========================================

SECTION 6 ‚Äî STRUCTURED ERROR CONTRACT (FINAL)

========================================

All validation errors MUST follow:

{
  code: string
  field?: string
  message: string
}

Client must:
	‚Ä¢	Map field ‚Üí input
	‚Ä¢	Render message inline
	‚Ä¢	Not rewrite or generalize the message

‚∏ª

========================================

SECTION 7 ‚Äî MANDATORY MANUAL TESTING

========================================

Credentials (MANDATORY):
	‚Ä¢	Admin: the3rdukem@gmail.com / 123asdqweX$
	‚Ä¢	Vendor: ven@kiosk.com.gh / 123asdqwe
	‚Ä¢	Buyer: buy@kiosk.com.gh / 123asdqwe

Tests that MUST pass:

Vendor Registration
	‚Ä¢	Store name: FUCK YOU ‚Üí ‚ùå rejected, highlighted
	‚Ä¢	Address: garbage string ‚Üí ‚ùå rejected
	‚Ä¢	Email: long garbage gmail ‚Üí ‚ùå rejected
	‚Ä¢	Duplicate phone ‚Üí ‚ùå rejected

Buyer Registration
	‚Ä¢	Garbage names ‚Üí ‚ùå rejected
	‚Ä¢	Duplicate phone ‚Üí ‚ùå rejected

Product Creation
	‚Ä¢	Unsafe content ‚Üí inline field error ONLY
	‚Ä¢	No duplicate error messages

‚∏ª

========================================

FINAL RULE ‚Äî NO FALSE COMPLETION

========================================

üö´ DO NOT report completion unless:
	‚Ä¢	Registration forms are fully content-safe
	‚Ä¢	Duplicate phone numbers are impossible
	‚Ä¢	Errors are field-specific and highlighted
	‚Ä¢	No redundant toasts exist
	‚Ä¢	UX clearly guides the user to fix issues